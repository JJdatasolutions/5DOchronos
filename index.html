<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>EntraÃ®nement Vocabulaire CrÃ©aFrench</title>
    <style>
        :root { --primary: #3498db; --success: #2ecc71; --danger: #e74c3c; --bg: #121212; --card: #1e1e1e; --accent: #f1c40f; }
        body { background-color: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; }
        #container { width: 95%; max-width: 1100px; margin: 40px auto; text-align: center; }
        
        .selector-container { background: var(--card); padding: 25px; border-radius: 12px; margin-bottom: 30px; border: 1px solid #333; }
        select { padding: 12px; background: #333; color: white; border-radius: 6px; border: 1px solid var(--primary); font-size: 16px; width: 300px; cursor: pointer; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .set-card { background: var(--card); padding: 20px; border-radius: 12px; border: 1px solid #333; transition: 0.3s; }
        .set-card:hover { border-color: var(--primary); transform: translateY(-3px); }
        .set-card h3 { color: var(--accent); margin-top: 0; }

        .btn { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 6px; cursor: pointer; font-size: 15px; width: 100%; margin-top: 10px; transition: 0.3s; font-weight: bold; }
        .btn:hover { filter: brightness(1.1); }
        .btn-secondary { background: #555; }
        
        .screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 100; justify-content: center; align-items: center; flex-direction: column; }
        
        #word-display { font-size: 55px; font-weight: bold; margin: 40px 0; color: var(--accent); padding: 0 20px; text-align: center; max-width: 90%; word-wrap: break-word;}
        #timer-container { width: 70%; height: 12px; background: #333; border-radius: 6px; margin: 20px auto; overflow: hidden; }
        #timer-bar { width: 100%; height: 100%; background: var(--success); transition: width 1s linear; }
        
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #2a2a2a; }
        th, td { padding: 10px; border: 1px solid #444; text-align: left; }
        th { background: #333; color: var(--accent); }
        .scroll-area { width: 90%; max-width: 800px; max-height: 70vh; overflow-y: auto; background: #1e1e1e; padding: 10px; border-radius: 10px; border: 1px solid #444; }
        
        input.edit-input { 
            background: #444; color: white; border: 1px solid #666; 
            padding: 8px; width: 95%; border-radius: 4px; font-size: 14px; 
        }
        input.edit-input:focus { border-color: var(--accent); outline: none; }
        .sync-box { margin-top: 30px; padding: 15px; background: #222; border-radius: 8px; font-size: 0.9rem; border: 1px dashed #444; }
    </style>
</head>
<body>

<div id="container">
    <h1>EntraÃ®nement Vocabulaire CrÃ©aFrench</h1>
    <div class="selector-container">
        <label>Choisir le ThÃ¨me :</label>
        <select id="theme-select" onchange="genererSeries(this.value)">
            <option value="">-- Maak een keuze --</option>
            <option value="13">ThÃ¨me 13 : La Gastronomie</option>
            <option value="14">ThÃ¨me 14 : L'Art et la Culture</option>
            <option value="15">ThÃ¨me 15 : Voyage en France</option>
        </select>
    </div>
    <div class="grid" id="set-grid"></div>

    <div class="sync-box">
        <p>ðŸ”„ <b>Synchroniser entre appareils :</b></p>
        <div style="display: flex; gap: 10px; justify-content: center;">
            <button class="btn btn-secondary" style="width: 200px;" onclick="exporterData()">Exporter (Copier)</button>
            <button class="btn btn-secondary" style="width: 200px;" onclick="importerData()">Importer (Coller)</button>
        </div>
    </div>
</div>

<div id="edit-screen" class="screen">
    <h2 style="color:white">Modifier la SÃ©rie <span id="edit-set-num"></span></h2>
    <div class="scroll-area">
        <table id="edit-table">
            <thead>
                <tr>
                    <th style="width: 5%">#</th>
                    <th style="width: 45%">NÃ©erlandais (NL)</th>
                    <th style="width: 45%">FranÃ§ais (FR)</th>
                </tr>
            </thead>
            <tbody id="edit-body"></tbody>
        </table>
    </div>
    <div style="display:flex; gap:10px; margin-top:20px; width: 300px;">
        <button class="btn btn-secondary" onclick="fermerEdition()">Annuler</button>
        <button class="btn" onclick="sauvegarderEtDemarrer()">ðŸ’¾ Sauvegarder & Jouer</button>
    </div>
</div>

<div id="exercise" class="screen">
    <div id="info-header" style="font-size: 1.2rem; color: #aaa;"></div>
    <div id="timer-container"><div id="timer-bar"></div></div>
    <div id="word-display">PrÃªt ?</div>
    <button class="btn" style="width:140px; background:var(--danger); margin-top: 30px;" onclick="location.reload()">ArrÃªter</button>
</div>

<div id="result" class="screen">
    <h2 style="color: var(--success);">SÃ©rie terminÃ©e !</h2>
    <div class="scroll-area">
        <table>
            <thead><tr><th>NL</th><th>FR</th></tr></thead>
            <tbody id="res-body"></tbody>
        </table>
    </div>
    <button class="btn" style="margin-top: 20px; width:250px;" onclick="location.reload()">Retour au menu</button>
</div>

<script>
const listeVocabulaire = [
    // --- THÃˆME 13 ---
    {t:13, nl:"de maaltijden", fr:"les repas"}, {t:13, nl:"eten / vreten", fr:"manger / bouffer"}, {t:13, nl:"drinken", fr:"boire"}, {t:13, nl:"proeven", fr:"goÃ»ter"}, {t:13, nl:"fijnproeven", fr:"dÃ©guster"}, {t:13, nl:"het ontbijt", fr:"le petit-dÃ©jeuner"}, {t:13, nl:"de brunch", fr:"le brunch"}, {t:13, nl:"middagmaal / lunch", fr:"le dÃ©jeuner / le lunch"}, {t:13, nl:"het avondmaal", fr:"le dÃ®ner / le souper (BE)"}, {t:13, nl:"het aperitief", fr:"l'apÃ©ritif (m.)"}, {t:13, nl:"de hapjes", fr:"les amuse-bouche / zakouskis"}, {t:13, nl:"het voorgerecht", fr:"l'entrÃ©e (f.)"}, {t:13, nl:"de soep", fr:"la soupe / le potage"}, {t:13, nl:"het (hoofd)gerecht", fr:"le plat (principal)"}, {t:13, nl:"het dessert", fr:"le dessert"}, {t:13, nl:"koken", fr:"faire la cuisine"}, {t:13, nl:"een recept", fr:"une recette"}, {t:13, nl:"schillen", fr:"Ã©plucher"}, {t:13, nl:"snijden / hakken", fr:"couper / hacher"}, {t:13, nl:"mengen", fr:"mÃ©langer"}, {t:13, nl:"alleseter", fr:"omnivore"}, {t:13, nl:"vegetariÃ«r", fr:"vÃ©gÃ©tarien(ne)"}, {t:13, nl:"veganist", fr:"vÃ©gan(e) / vÃ©gÃ©talien(ne)"}, {t:13, nl:"het bestek", fr:"les couverts"}, {t:13, nl:"een mes", fr:"un couteau"}, {t:13, nl:"een vork", fr:"une fourchette"}, {t:13, nl:"een lepel", fr:"une cuillÃ¨re"}, {t:13, nl:"een bord", fr:"une assiette"}, {t:13, nl:"kookpot / pan", fr:"une casserole / une poÃªle"}, {t:13, nl:"een wortel", fr:"une carotte"}, {t:13, nl:"een paprika", fr:"un poivron"}, {t:13, nl:"een aubergine", fr:"une aubergine"}, {t:13, nl:"een tomaat", fr:"une tomate"}, {t:13, nl:"een courgette", fr:"une courgette"}, {t:13, nl:"een (groene) boon", fr:"un haricot (vert)"}, {t:13, nl:"een erwt", fr:"un petit pois"}, {t:13, nl:"een aardappel", fr:"une pomme de terre"}, {t:13, nl:"een zoete aardappel", fr:"une patate douce"}, {t:13, nl:"een (rode) biet", fr:"une betterave (rouge)"}, {t:13, nl:"een artisjok", fr:"un artichaut"}, {t:13, nl:"spinazie", fr:"des Ã©pinards (m.)"}, {t:13, nl:"een bloemkool", fr:"un chou-fleur"}, {t:13, nl:"een (rode) kool", fr:"un chou (rouge)"}, {t:13, nl:"een broccoli", fr:"un brocoli"}, {t:13, nl:"een prei", fr:"un poireau"}, {t:13, nl:"een selder", fr:"un cÃ©leri"}, {t:13, nl:"een komkommer", fr:"un concombre"}, {t:13, nl:"een kropsla", fr:"une laitue"}, {t:13, nl:"een asperge", fr:"une asperge"}, {t:13, nl:"een ui", fr:"un oignon"}, {t:13, nl:"look", fr:"l'ail (m.)"}, {t:13, nl:"een avocado", fr:"un avocat"}, {t:13, nl:"een radijs", fr:"un radis"}, {t:13, nl:"witloof", fr:"une endive / un chicon (BE)"}, {t:13, nl:"venkel", fr:"un fenouil"}, {t:13, nl:"pompoen", fr:"un potiron"}, {t:13, nl:"pastinaak", fr:"un panais"}, {t:13, nl:"een paddenstoel", fr:"un champignon"}, {t:13, nl:"een raap", fr:"un navet"}, {t:13, nl:"zout", fr:"le sel"}, {t:13, nl:"peper", fr:"le poivre"}, {t:13, nl:"ProvenÃ§aalse kruiden", fr:"les herbes de Provence"}, {t:13, nl:"tijm", fr:"le thym"}, {t:13, nl:"oregano", fr:"l'origan (m.)"}, {t:13, nl:"laurier", fr:"le laurier"}, {t:13, nl:"kaneel", fr:"la cannelle"}, {t:13, nl:"chilipeper", fr:"le piment"},
    // --- THÃˆME 14 ---
    {t:14, nl:"de lezer", fr:"le lecteur, la lectrice"}, {t:14, nl:"het boek (pop.)", fr:"le bouquin"}, {t:14, nl:"het pocketboek", fr:"le livre de poche"}, {t:14, nl:"een roman publiceren", fr:"publier un roman"}, {t:14, nl:"het kortverhaal", fr:"la nouvelle"}, {t:14, nl:"de gedichtenbundel", fr:"le recueil de poÃ¨mes"}, {t:14, nl:"een stripverhaal", fr:"la bande dessinÃ©e (BD)"}, {t:14, nl:"de grafische roman", fr:"le roman graphique"}, {t:14, nl:"het (boek)deel", fr:"le tome"}, {t:14, nl:"het hoofdstuk", fr:"le chapitre"}, {t:14, nl:"de pagina", fr:"la page"}, {t:14, nl:"de held(in)", fr:"le hÃ©ros, l'hÃ©roÃ¯ne"}, {t:14, nl:"het hoofdpersonage", fr:"le protagoniste"}, {t:14, nl:"een auteur", fr:"un auteur, une autrice"}, {t:14, nl:"een schrijver", fr:"un Ã©crivain"}, {t:14, nl:"een boekhandel", fr:"une librairie"}, {t:14, nl:"een uitgeverij", fr:"une maison d'Ã©dition"}, {t:14, nl:"de plot / intrige", fr:"l'intrigue (f.)"}, {t:14, nl:"de ontknoping", fr:"le dÃ©nouement"}, {t:14, nl:"een literaire prijs winnen", fr:"remporter un prix littÃ©raire"}, {t:14, nl:"de kunst", fr:"l'art (m.)"}, {t:14, nl:"een kunstenaar", fr:"un(e) artiste"}, {t:14, nl:"creÃ«ren", fr:"crÃ©er"}, {t:14, nl:"de creativiteit", fr:"la crÃ©ativitÃ©"}, {t:14, nl:"creatief zijn", fr:"Ãªtre crÃ©atif"}, {t:14, nl:"een schilder", fr:"un peintre"}, {t:14, nl:"schilderen", fr:"peindre"}, {t:14, nl:"een schilderij / doek", fr:"une peinture / un tableau / une toile"}, {t:14, nl:"een beeldhouwer", fr:"un sculpteur"}, {t:14, nl:"beeldhouwen", fr:"sculter"}, {t:14, nl:"een beeldhouwwerk", fr:"une sculpture"}, {t:14, nl:"een (interieur)architect", fr:"un architecte (dâ€™intÃ©rieur)"}, {t:14, nl:"de architectuur", fr:"l'architecture (f.)"}, {t:14, nl:"een modeontwerper", fr:"un couturier / crÃ©ateur"}, {t:14, nl:"een designer", fr:"un designer"}, {t:14, nl:"een grafisch vormgever", fr:"un graphiste"}, {t:14, nl:"poseren voor een kunstenaar", fr:"poser pour un artiste"}, {t:14, nl:"een muze", fr:"une muse"}, {t:14, nl:"een tentoonstelling", fr:"une expo(sition)"}, {t:14, nl:"naar een vernissage gaan", fr:"aller Ã  un vernissage"}, {t:14, nl:"een verzamelaar", fr:"un collectionneur"}, {t:14, nl:"verzamelen", fr:"collectionner"}, {t:14, nl:"kunstgeschiedenis", fr:"l'history de l'art"}, {t:14, nl:"een museumzaal", fr:"une salle de musÃ©e"}, {t:14, nl:"een kunstgalerij", fr:"une galerie d'art"}, {t:14, nl:"een kunstwerk", fr:"une Å“uvre (dâ€™art)"}, {t:14, nl:"een meesterwerk", fr:"un chef-dâ€™Å“uvre"}, {t:14, nl:"een schets", fr:"un croquis / une esquisse"}, {t:14, nl:"een stilleven", fr:"une nature morte"}, {t:14, nl:"een landschap", fr:"un paysage"}, {t:14, nl:"een portret", fr:"un portrait"}, {t:14, nl:"abstracte kunst", fr:"l'art abstrait"}, {t:14, nl:"een standbeeld", fr:"une statue"}, {t:14, nl:"klappen / applaus", fr:"applaudir / les applaudissements"}, {t:14, nl:"gecharmeerd zijn door", fr:"Ãªtre sous le charme de"}, {t:14, nl:"waarderen", fr:"apprÃ©cier"}, {t:14, nl:"geest verruimen", fr:"s'ouvrir l'esprit"}, {t:14, nl:"uitfluiten", fr:"siffler / huer"}, {t:14, nl:"een hekel hebben aan", fr:"dÃ©tester"}, {t:14, nl:"het is ouderwets", fr:"c'est ringard / dÃ©modÃ©"},
    // --- THÃˆME 15 ---
    {t:15, nl:"Frankrijk (de zeshoek)", fr:"l'Hexagone (m.)"}, {t:15, nl:"streek / regio", fr:"la rÃ©gion"}, {t:15, nl:"departement", fr:"le dÃ©partement"}, {t:15, nl:"het platteland", fr:"la campagne"}, {t:15, nl:"het dorp", fr:"le village"}, {t:15, nl:"de grens", fr:"la frontiÃ¨re"}, {t:15, nl:"de toerist", fr:"le touriste"}, {t:15, nl:"bureau voor toerisme", fr:"l'office du tourisme"}, {t:15, nl:"zich informeren", fr:"se renseigner"}, {t:15, nl:"verblijf organiseren", fr:"organiser un sÃ©jour"}, {t:15, nl:"georganiseerde reis", fr:"un voyage organisÃ©"}, {t:15, nl:"route / traject", fr:"un itinÃ©raire"}, {t:15, nl:"reservatie maken", fr:"faire une rÃ©servation"}, {t:15, nl:"accommodatie", fr:"l'hÃ©bergement (m.)"}, {t:15, nl:"lokale specialiteiten", fr:"les spÃ©cialitÃ©s locales"}, {t:15, nl:"een cruise maken", fr:"faire une croisiÃ¨re"}, {t:15, nl:"toeristische site", fr:"le site touristique"}, {t:15, nl:"historisch monument", fr:"le monument historique"}, {t:15, nl:"kasteel", fr:"le chÃ¢teau"}, {t:15, nl:"wijngaard", fr:"le vignoble"}, {t:15, nl:"cultureel erfgoed", fr:"le patrimoine culturel"}, {t:15, nl:"bekend / beroemd", fr:"connu / cÃ©lÃ¨bre"}, {t:15, nl:"het landschap", fr:"le paysage"}, {t:15, nl:"het zicht", fr:"la vue"}, {t:15, nl:"zich ver uitstrekken", fr:"s'Ã©tendre Ã  perte de vue"}, {t:15, nl:"plantengroei", fr:"la vÃ©gÃ©tation"}, {t:15, nl:"bos / pijnbomen", fr:"la forÃªt / les pins"}, {t:15, nl:"de heide", fr:"la lande"}, {t:15, nl:"vallei / heuvel", fr:"une vallÃ©e / une colline"}, {t:15, nl:"berg / meer", fr:"une montagne / un lac"}, {t:15, nl:"rivier / stroom", fr:"une riviÃ¨re / un fleuve"}, {t:15, nl:"zee / oceaan", fr:"la mer / l'ocÃ©an"}, {t:15, nl:"de golf", fr:"la vague"}, {t:15, nl:"de baai", fr:"la baie"}, {t:15, nl:"de kust / het strand", fr:"la cÃ´te / la plage"}, {t:15, nl:"klif / rotswand", fr:"la falaise"}, {t:15, nl:"pittoresk", fr:"pittoresque"}, {t:15, nl:"stedelijk", fr:"urbain"}, {t:15, nl:"landelijk", fr:"rural"}, {t:15, nl:"kleurrijk", fr:"colorÃ©"}, {t:15, nl:"heuvelachtig", fr:"vallonnÃ©"}
];

let toutesLesSeries = [];
let indexSerieActuelle = 0, indexMotActuel = 0, tempsRestant = 8, intervalle;

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

function genererSeries(numTheme) {
    const grille = document.getElementById('set-grid');
    grille.innerHTML = '';
    if (!numTheme) return;

    const storageKey = 'creafrench_theme_' + numTheme;
    const dataSauvegardee = localStorage.getItem(storageKey);

    if (dataSauvegardee) {
        toutesLesSeries = JSON.parse(dataSauvegardee);
    } else {
        // Eerst shuffelen we de bronlijst voor dit thema
        let vocab = shuffleArray([...listeVocabulaire.filter(m => m.t == numTheme)]);
        if(vocab.length === 0) return;

        toutesLesSeries = [];
        for (let i = 0; i < 10; i++) {
            let serie = [];
            let startIndex = i * 9; 
            for (let j = 0; j < 14; j++) {
                let wordIndex = (startIndex + j) % vocab.length;
                serie.push({ nl: vocab[wordIndex].nl, fr: vocab[wordIndex].fr });
            }
            toutesLesSeries.push(serie);
        }
    }
    renderGrille();
}

function renderGrille() {
    const grille = document.getElementById('set-grid');
    grille.innerHTML = '';
    toutesLesSeries.forEach((serie, i) => {
        const carte = document.createElement('div');
        carte.className = 'set-card';
        carte.innerHTML = `
            <h3>SÃ©rie ${i+1}</h3>
            <p>${serie.length} mots (MixÃ©)</p>
            <button class="btn" onclick="demarrerSerie(${i})">ðŸš€ Commencer</button>
            <button class="btn btn-secondary" onclick="ouvrirEdition(${i})">Afficher / Modifier</button>
        `;
        grille.appendChild(carte);
    });
}

function exporterData() {
    const numTheme = document.getElementById('theme-select').value;
    if(!numTheme) return alert("Kies eerst een thema.");
    const data = localStorage.getItem('creafrench_theme_' + numTheme);
    navigator.clipboard.writeText(data).then(() => alert("Lijst gekopieerd! Mail dit naar jezelf om het ergens anders te openen."));
}

function importerData() {
    const numTheme = document.getElementById('theme-select').value;
    if(!numTheme) return alert("Kies eerst een thema.");
    const code = prompt("Plak hier de code van je andere computer:");
    if(code) {
        localStorage.setItem('creafrench_theme_' + numTheme, code);
        genererSeries(numTheme);
    }
}

function demarrerSerie(idx) {
    indexSerieActuelle = idx; indexMotActuel = 0;
    document.getElementById('container').style.display = 'none';
    document.getElementById('edit-screen').style.display = 'none'; 
    document.getElementById('exercise').style.display = 'flex';
    motSuivant();
}

function motSuivant() {
    const serie = toutesLesSeries[indexSerieActuelle];
    if (indexMotActuel >= serie.length) { afficherResultats(); return; }
    tempsRestant = 8;
    document.getElementById('word-display').innerText = serie[indexMotActuel].nl;
    document.getElementById('info-header').innerText = `Mot ${indexMotActuel+1} / ${serie.length}`;
    document.getElementById('timer-bar').style.width = '100%';
    if (intervalle) clearInterval(intervalle);
    intervalle = setInterval(() => {
        tempsRestant--;
        document.getElementById('timer-bar').style.width = (tempsRestant/8*100)+'%';
        if (tempsRestant <= 0) { indexMotActuel++; motSuivant(); }
    }, 1000);
}

function afficherResultats() {
    clearInterval(intervalle);
    document.getElementById('exercise').style.display = 'none';
    document.getElementById('result').style.display = 'flex';
    document.getElementById('res-body').innerHTML = toutesLesSeries[indexSerieActuelle].map(m => `
        <tr><td>${m.nl}</td><td style="color:var(--primary); font-weight:bold;">${m.fr}</td></tr>
    `).join('');
}

function ouvrirEdition(idx) {
    indexSerieActuelle = idx;
    document.getElementById('edit-set-num').innerText = idx + 1;
    const corps = document.getElementById('edit-body');
    corps.innerHTML = toutesLesSeries[idx].map((m, wordIndex) => `
        <tr>
            <td>${wordIndex + 1}</td>
            <td><input type="text" class="edit-input" id="nl-${wordIndex}" value="${m.nl}"></td>
            <td><input type="text" class="edit-input" id="fr-${wordIndex}" value="${m.fr}"></td>
        </tr>
    `).join('');
    document.getElementById('edit-screen').style.display = 'flex';
}

function fermerEdition() { document.getElementById('edit-screen').style.display = 'none'; }

function sauvegarderEtDemarrer() {
    const serie = toutesLesSeries[indexSerieActuelle];
    for(let i=0; i < serie.length; i++) {
        serie[i].nl = document.getElementById(`nl-${i}`).value;
        serie[i].fr = document.getElementById(`fr-${i}`).value;
    }
    const numTheme = document.getElementById('theme-select').value;
    localStorage.setItem('creafrench_theme_' + numTheme, JSON.stringify(toutesLesSeries));
    demarrerSerie(indexSerieActuelle);
}
</script>
</body>
</html>
