<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Entra√Ænement Vocabulaire Cr√©aFrench</title>
    <style>
        :root { --primary: #3498db; --success: #2ecc71; --danger: #e74c3c; --bg: #121212; --card: #1e1e1e; --accent: #f1c40f; }
        body { background-color: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; margin: 0; }
        #container { width: 95%; max-width: 1100px; margin: 40px auto; text-align: center; }
        
        .selector-container { background: var(--card); padding: 25px; border-radius: 12px; margin-bottom: 30px; border: 1px solid #333; }
        select { padding: 12px; background: #333; color: white; border-radius: 6px; border: 1px solid var(--primary); font-size: 16px; width: 300px; cursor: pointer; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .set-card { background: var(--card); padding: 20px; border-radius: 12px; border: 1px solid #333; transition: 0.3s; }
        .set-card:hover { border-color: var(--primary); transform: translateY(-3px); }
        .set-card h3 { color: var(--accent); margin-top: 0; }

        .btn { background: var(--primary); color: white; border: none; padding: 12px; border-radius: 6px; cursor: pointer; font-size: 15px; width: 100%; margin-top: 10px; transition: 0.3s; font-weight: bold; }
        .btn:hover { filter: brightness(1.1); }
        .btn-secondary { background: #555; }
        
        /* Modals en Schermen */
        .screen { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 100; justify-content: center; align-items: center; flex-direction: column; }
        
        /* Game elementen */
        #word-display { font-size: 55px; font-weight: bold; margin: 40px 0; color: var(--accent); padding: 0 20px; text-align: center; max-width: 90%; word-wrap: break-word;}
        #timer-container { width: 70%; height: 12px; background: #333; border-radius: 6px; margin: 20px auto; overflow: hidden; }
        #timer-bar { width: 100%; height: 100%; background: var(--success); transition: width 1s linear; }
        
        /* Tabellen en Edit mode */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: #2a2a2a; }
        th, td { padding: 10px; border: 1px solid #444; text-align: left; }
        th { background: #333; color: var(--accent); }
        .scroll-area { width: 90%; max-width: 800px; max-height: 70vh; overflow-y: auto; background: #1e1e1e; padding: 10px; border-radius: 10px; border: 1px solid #444; }
        
        /* Inputs in edit mode */
        input.edit-input { 
            background: #444; color: white; border: 1px solid #666; 
            padding: 8px; width: 95%; border-radius: 4px; font-size: 14px; 
        }
        input.edit-input:focus { border-color: var(--accent); outline: none; }
    </style>
</head>
<body>

<div id="container">
    <h1>Entra√Ænement Vocabulaire Cr√©aFrench</h1>
    <div class="selector-container">
        <label>Choisir le Th√®me :</label>
        <select id="theme-select" onchange="genererSeries(this.value)">
            <option value="">-- Maak een keuze --</option>
            <option value="13">Th√®me 13 : La Gastronomie</option>
            <option value="14">Th√®me 14 : L'Art et la Culture</option>
            <option value="15">Th√®me 15 : Voyage en France</option>
        </select>
    </div>
    <div class="grid" id="set-grid"></div>
</div>

<div id="edit-screen" class="screen">
    <h2 style="color:white">Modifier la S√©rie <span id="edit-set-num"></span></h2>
    <div class="scroll-area">
        <table id="edit-table">
            <thead>
                <tr>
                    <th style="width: 5%">#</th>
                    <th style="width: 45%">N√©erlandais (NL)</th>
                    <th style="width: 45%">Fran√ßais (FR)</th>
                </tr>
            </thead>
            <tbody id="edit-body"></tbody>
        </table>
    </div>
    <div style="display:flex; gap:10px; margin-top:20px; width: 300px;">
        <button class="btn btn-secondary" onclick="fermerEdition()">Annuler</button>
        <button class="btn" onclick="sauvegarderEtDemarrer()">üíæ Sauvegarder & Jouer</button>
    </div>
</div>

<div id="exercise" class="screen">
    <div id="info-header" style="font-size: 1.2rem; color: #aaa;"></div>
    <div id="timer-container"><div id="timer-bar"></div></div>
    <div id="word-display">Pr√™t ?</div>
    <button class="btn" style="width:140px; background:var(--danger); margin-top: 30px;" onclick="location.reload()">Arr√™ter</button>
</div>

<div id="result" class="screen">
    <h2 style="color: var(--success);">S√©rie termin√©e !</h2>
    <div class="scroll-area">
        <table>
            <thead><tr><th>NL</th><th>FR</th></tr></thead>
            <tbody id="res-body"></tbody>
        </table>
    </div>
    <button class="btn" style="margin-top: 20px; width:250px;" onclick="location.reload()">Retour au menu</button>
</div>

<script>
// De volledige woordenlijst
const listeVocabulaire = [
    // --- TH√àME 13 ---
    {t:13, nl:"de maaltijden", fr:"les repas"}, {t:13, nl:"eten / vreten", fr:"manger / bouffer"}, {t:13, nl:"drinken", fr:"boire"}, {t:13, nl:"proeven", fr:"go√ªter"}, {t:13, nl:"fijnproeven", fr:"d√©guster"}, {t:13, nl:"het ontbijt", fr:"le petit-d√©jeuner"}, {t:13, nl:"de brunch", fr:"le brunch"}, {t:13, nl:"middagmaal / lunch", fr:"le d√©jeuner / le lunch"}, {t:13, nl:"het avondmaal", fr:"le d√Æner / le souper (BE)"}, {t:13, nl:"het aperitief", fr:"l'ap√©ritif (m.)"}, {t:13, nl:"de hapjes", fr:"les amuse-bouche / zakouskis"}, {t:13, nl:"het voorgerecht", fr:"l'entr√©e (f.)"}, {t:13, nl:"de soep", fr:"la soupe / le potage"}, {t:13, nl:"het (hoofd)gerecht", fr:"le plat (principal)"}, {t:13, nl:"het dessert", fr:"le dessert"}, {t:13, nl:"koken", fr:"faire la cuisine"}, {t:13, nl:"een recept", fr:"une recette"}, {t:13, nl:"schillen", fr:"√©plucher"}, {t:13, nl:"snijden / hakken", fr:"couper / hacher"}, {t:13, nl:"mengen", fr:"m√©langer"}, {t:13, nl:"alleseter", fr:"omnivore"}, {t:13, nl:"vegetari√´r", fr:"v√©g√©tarien(ne)"}, {t:13, nl:"veganist", fr:"v√©gan(e) / v√©g√©talien(ne)"}, {t:13, nl:"het bestek", fr:"les couverts"}, {t:13, nl:"een mes", fr:"un couteau"}, {t:13, nl:"een vork", fr:"une fourchette"}, {t:13, nl:"een lepel", fr:"une cuill√®re"}, {t:13, nl:"een bord", fr:"une assiette"}, {t:13, nl:"kookpot / pan", fr:"une casserole / une po√™le"}, {t:13, nl:"een wortel", fr:"une carotte"}, {t:13, nl:"een paprika", fr:"un poivron"}, {t:13, nl:"een aubergine", fr:"une aubergine"}, {t:13, nl:"een tomaat", fr:"une tomate"}, {t:13, nl:"een courgette", fr:"une courgette"}, {t:13, nl:"een (groene) boon", fr:"un haricot (vert)"}, {t:13, nl:"een erwt", fr:"un petit pois"}, {t:13, nl:"een aardappel", fr:"une pomme de terre"}, {t:13, nl:"een zoete aardappel", fr:"une patate douce"}, {t:13, nl:"een (rode) biet", fr:"une betterave (rouge)"}, {t:13, nl:"een artisjok", fr:"un artichaut"}, {t:13, nl:"spinazie", fr:"des √©pinards (m.)"}, {t:13, nl:"een bloemkool", fr:"un chou-fleur"}, {t:13, nl:"een (rode) kool", fr:"un chou (rouge)"}, {t:13, nl:"een broccoli", fr:"un brocoli"}, {t:13, nl:"een prei", fr:"un poireau"}, {t:13, nl:"een selder", fr:"un c√©leri"}, {t:13, nl:"een komkommer", fr:"un concombre"}, {t:13, nl:"een kropsla", fr:"une laitue"}, {t:13, nl:"een asperge", fr:"une asperge"}, {t:13, nl:"een ui", fr:"un oignon"}, {t:13, nl:"look", fr:"l'ail (m.)"}, {t:13, nl:"een avocado", fr:"un avocat"}, {t:13, nl:"een radijs", fr:"un radis"}, {t:13, nl:"witloof", fr:"une endive / un chicon (BE)"}, {t:13, nl:"venkel", fr:"un fenouil"}, {t:13, nl:"pompoen", fr:"un potiron"}, {t:13, nl:"pastinaak", fr:"un panais"}, {t:13, nl:"een paddenstoel", fr:"un champignon"}, {t:13, nl:"een raap", fr:"un navet"}, {t:13, nl:"zout", fr:"le sel"}, {t:13, nl:"peper", fr:"le poivre"}, {t:13, nl:"Proven√ßaalse kruiden", fr:"les herbes de Provence"}, {t:13, nl:"tijm", fr:"le thym"}, {t:13, nl:"oregano", fr:"l'origan (m.)"}, {t:13, nl:"laurier", fr:"le laurier"}, {t:13, nl:"kaneel", fr:"la cannelle"}, {t:13, nl:"chilipeper", fr:"le piment"},

    // --- TH√àME 14 ---
    {t:14, nl:"de lezer", fr:"le lecteur, la lectrice"}, {t:14, nl:"het boek (pop.)", fr:"le bouquin"}, {t:14, nl:"het pocketboek", fr:"le livre de poche"}, {t:14, nl:"een roman publiceren", fr:"publier un roman"}, {t:14, nl:"het kortverhaal", fr:"la nouvelle"}, {t:14, nl:"de gedichtenbundel", fr:"le recueil de po√®mes"}, {t:14, nl:"een stripverhaal", fr:"la bande dessin√©e (BD)"}, {t:14, nl:"de grafische roman", fr:"le roman graphique"}, {t:14, nl:"het (boek)deel", fr:"le tome"}, {t:14, nl:"het hoofdstuk", fr:"le chapitre"}, {t:14, nl:"de pagina", fr:"la page"}, {t:14, nl:"de held(in)", fr:"le h√©ros, l'h√©ro√Øne"}, {t:14, nl:"het hoofdpersonage", fr:"le protagoniste"}, {t:14, nl:"een auteur", fr:"un auteur, une autrice"}, {t:14, nl:"een schrijver", fr:"un √©crivain"}, {t:14, nl:"een boekhandel", fr:"une librairie"}, {t:14, nl:"een uitgeverij", fr:"une maison d'√©dition"}, {t:14, nl:"de plot / intrige", fr:"l'intrigue (f.)"}, {t:14, nl:"de ontknoping", fr:"le d√©nouement"}, {t:14, nl:"een literaire prijs winnen", fr:"remporter un prix litt√©raire"}, {t:14, nl:"de kunst", fr:"l'art (m.)"}, {t:14, nl:"een kunstenaar", fr:"un(e) artiste"}, {t:14, nl:"cre√´ren", fr:"cr√©er"}, {t:14, nl:"de creativiteit", fr:"la cr√©ativit√©"}, {t:14, nl:"creatief zijn", fr:"√™tre cr√©atif"}, {t:14, nl:"een schilder", fr:"un peintre"}, {t:14, nl:"schilderen", fr:"peindre"}, {t:14, nl:"een schilderij / doek", fr:"une peinture / un tableau / une toile"}, {t:14, nl:"een beeldhouwer", fr:"un sculpteur"}, {t:14, nl:"beeldhouwen", fr:"sculpter"}, {t:14, nl:"een beeldhouwwerk", fr:"une sculpture"}, {t:14, nl:"een (interieur)architect", fr:"un architecte (d‚Äôint√©rieur)"}, {t:14, nl:"de architectuur", fr:"l'architecture (f.)"}, {t:14, nl:"een modeontwerper", fr:"un couturier / cr√©ateur"}, {t:14, nl:"een designer", fr:"un designer"}, {t:14, nl:"een grafisch vormgever", fr:"un graphiste"}, {t:14, nl:"poseren voor een kunstenaar", fr:"poser pour un artiste"}, {t:14, nl:"een muze", fr:"une muse"}, {t:14, nl:"een tentoonstelling", fr:"une expo(sition)"}, {t:14, nl:"naar een vernissage gaan", fr:"aller √† un vernissage"}, {t:14, nl:"een verzamelaar", fr:"un collectionneur"}, {t:14, nl:"verzamelen", fr:"collectionner"}, {t:14, nl:"kunstgeschiedenis", fr:"l'history de l'art"}, {t:14, nl:"een museumzaal", fr:"une salle de mus√©e"}, {t:14, nl:"een kunstgalerij", fr:"une galerie d'art"}, {t:14, nl:"een kunstwerk", fr:"une ≈ìuvre (d‚Äôart)"}, {t:14, nl:"een meesterwerk", fr:"un chef-d‚Äô≈ìuvre"}, {t:14, nl:"een schets", fr:"un croquis / une esquisse"}, {t:14, nl:"een stilleven", fr:"une nature morte"}, {t:14, nl:"een landschap", fr:"un paysage"}, {t:14, nl:"een portret", fr:"un portrait"}, {t:14, nl:"abstracte kunst", fr:"l'art abstrait"}, {t:14, nl:"een standbeeld", fr:"une statue"}, {t:14, nl:"klappen / applaus", fr:"applaudir / les applaudissements"}, {t:14, nl:"gecharmeerd zijn door", fr:"√™tre sous le charme de"}, {t:14, nl:"waarderen", fr:"appr√©cier"}, {t:14, nl:"geest verruimen", fr:"s'ouvrir l'esprit"}, {t:14, nl:"uitfluiten", fr:"siffler / huer"}, {t:14, nl:"een hekel hebben aan", fr:"d√©tester"}, {t:14, nl:"het is ouderwets", fr:"c'est ringard / d√©mod√©"},

    // --- TH√àME 15 ---
    {t:15, nl:"Frankrijk (de zeshoek)", fr:"l'Hexagone (m.)"}, {t:15, nl:"streek / regio", fr:"la r√©gion"}, {t:15, nl:"departement", fr:"le d√©partement"}, {t:15, nl:"het platteland", fr:"la campagne"}, {t:15, nl:"het dorp", fr:"le village"}, {t:15, nl:"de grens", fr:"la fronti√®re"}, {t:15, nl:"de toerist", fr:"le touriste"}, {t:15, nl:"bureau voor toerisme", fr:"l'office du tourisme"}, {t:15, nl:"zich informeren", fr:"se renseigner"}, {t:15, nl:"verblijf organiseren", fr:"organiser un s√©jour"}, {t:15, nl:"georganiseerde reis", fr:"un voyage organis√©"}, {t:15, nl:"route / traject", fr:"un itin√©raire"}, {t:15, nl:"reservatie maken", fr:"faire une r√©servation"}, {t:15, nl:"accommodatie", fr:"l'h√©bergement (m.)"}, {t:15, nl:"lokale specialiteiten", fr:"les sp√©cialit√©s locales"}, {t:15, nl:"een cruise maken", fr:"faire une croisi√®re"}, {t:15, nl:"toeristische site", fr:"le site touristique"}, {t:15, nl:"historisch monument", fr:"le monument historique"}, {t:15, nl:"kasteel", fr:"le ch√¢teau"}, {t:15, nl:"wijngaard", fr:"le vignoble"}, {t:15, nl:"cultureel erfgoed", fr:"le patrimoine culturel"}, {t:15, nl:"bekend / beroemd", fr:"connu / c√©l√®bre"}, {t:15, nl:"het landschap", fr:"le paysage"}, {t:15, nl:"het zicht", fr:"la vue"}, {t:15, nl:"zich ver uitstrekken", fr:"s'√©tendre √† perte de vue"}, {t:15, nl:"plantengroei", fr:"la v√©g√©tation"}, {t:15, nl:"bos / pijnbomen", fr:"la for√™t / les pins"}, {t:15, nl:"de heide", fr:"la lande"}, {t:15, nl:"vallei / heuvel", fr:"une vall√©e / une colline"}, {t:15, nl:"berg / meer", fr:"une montagne / un lac"}, {t:15, nl:"rivier / stroom", fr:"une rivi√®re / un fleuve"}, {t:15, nl:"zee / oceaan", fr:"la mer / l'oc√©an"}, {t:15, nl:"de golf", fr:"la vague"}, {t:15, nl:"de baai", fr:"la baie"}, {t:15, nl:"de kust / het strand", fr:"la c√¥te / la plage"}, {t:15, nl:"klif / rotswand", fr:"la falaise"}, {t:15, nl:"pittoresk", fr:"pittoresque"}, {t:15, nl:"stedelijk", fr:"urbain"}, {t:15, nl:"landelijk", fr:"rural"}, {t:15, nl:"kleurrijk", fr:"color√©"}, {t:15, nl:"heuvelachtig", fr:"vallonn√©"}
];

// Globale variabelen
let toutesLesSeries = [];
let indexSerieActuelle = 0;
let indexMotActuel = 0;
let tempsRestant = 8;
let intervalle;

// Helper: Fisher-Yates Shuffle
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

// Functie om de 10 sets te genereren
function genererSeries(numTheme) {
    const grille = document.getElementById('set-grid');
    grille.innerHTML = '';
    
    if (!numTheme) return;
    
    // 1. Filteren
    let vocab = listeVocabulaire.filter(m => m.t == numTheme);
    if(vocab.length === 0) return;

    // 2. Randomizen (Shuffelen)
    // We maken eerst een kopie van de array om te shuffelen, 
    // zodat we het originele 'vocab' (of de volgorde in de broncode) niet kwijt zijn,
    // al maakt dat in deze context niet veel uit.
    vocab = shuffleArray([...vocab]);

    toutesLesSeries = [];
    
    // We maken HARDCODED 10 series aan
    for (let i = 0; i < 10; i++) {
        let serie = [];
        
        // Bereken startpunt (Overlap logic):
        // Set 0: start op 0
        // Set 1: start op 9 (dus 5 woorden van vorige set, want 14-9=5)
        let startIndex = i * 9; 

        // Vul de serie met exact 14 woorden
        for (let j = 0; j < 14; j++) {
            // Modulo operator (%) zorgt voor de loop
            let wordIndex = (startIndex + j) % vocab.length;
            
            // Object kopi√´ren voor editing veiligheid
            let woordObj = { 
                nl: vocab[wordIndex].nl, 
                fr: vocab[wordIndex].fr 
            };
            serie.push(woordObj);
        }
        
        toutesLesSeries.push(serie);
    }
    
    // Kaarten renderen
    toutesLesSeries.forEach((serie, i) => {
        const carte = document.createElement('div');
        carte.className = 'set-card';
        carte.innerHTML = `
            <h3>S√©rie ${i+1}</h3>
            <p>${serie.length} mots</p>
            <button class="btn" onclick="demarrerSerie(${i})">üöÄ Commencer</button>
            <button class="btn btn-secondary" onclick="ouvrirEdition(${i})">Afficher / Modifier</button>
        `;
        grille.appendChild(carte);
    });
}

// Spel starten
function demarrerSerie(idx) {
    indexSerieActuelle = idx; 
    indexMotActuel = 0;
    
    document.getElementById('container').style.display = 'none';
    document.getElementById('edit-screen').style.display = 'none'; 
    document.getElementById('exercise').style.display = 'flex';
    
    motSuivant();
}

// Volgende woord logica
function motSuivant() {
    const serie = toutesLesSeries[indexSerieActuelle];
    
    // Check of we klaar zijn
    if (indexMotActuel >= serie.length) { 
        afficherResultats(); 
        return; 
    }
    
    tempsRestant = 8;
    document.getElementById('word-display').innerText = serie[indexMotActuel].nl;
    document.getElementById('info-header').innerText = `Mot ${indexMotActuel+1} / ${serie.length}`;
    
    document.getElementById('timer-bar').style.width = '100%';

    if (intervalle) clearInterval(intervalle);
    
    intervalle = setInterval(() => {
        tempsRestant--;
        document.getElementById('timer-bar').style.width = (tempsRestant/8*100)+'%';
        
        if (tempsRestant <= 0) { 
            indexMotActuel++; 
            motSuivant(); 
        }
    }, 1000);
}

// Resultaten scherm
function afficherResultats() {
    clearInterval(intervalle);
    document.getElementById('exercise').style.display = 'none';
    document.getElementById('result').style.display = 'flex';
    
    const serie = toutesLesSeries[indexSerieActuelle];
    document.getElementById('res-body').innerHTML = serie.map(m => `
        <tr>
            <td>${m.nl}</td>
            <td style="color:var(--primary); font-weight:bold;">${m.fr}</td>
        </tr>
    `).join('');
}

// EDIT FUNCTIES
function ouvrirEdition(idx) {
    indexSerieActuelle = idx;
    document.getElementById('edit-set-num').innerText = idx + 1;
    const corps = document.getElementById('edit-body');
    const serie = toutesLesSeries[idx];

    corps.innerHTML = serie.map((m, wordIndex) => `
        <tr>
            <td>${wordIndex + 1}</td>
            <td><input type="text" class="edit-input" id="nl-${wordIndex}" value="${m.nl}"></td>
            <td><input type="text" class="edit-input" id="fr-${wordIndex}" value="${m.fr}"></td>
        </tr>
    `).join('');
    
    document.getElementById('edit-screen').style.display = 'flex';
}

function fermerEdition() {
    document.getElementById('edit-screen').style.display = 'none';
}

function sauvegarderEtDemarrer() {
    const serie = toutesLesSeries[indexSerieActuelle];
    
    for(let i=0; i < serie.length; i++) {
        const valNL = document.getElementById(`nl-${i}`).value;
        const valFR = document.getElementById(`fr-${i}`).value;
        serie[i].nl = valNL;
        serie[i].fr = valFR;
    }
    
    demarrerSerie(indexSerieActuelle);
}
</script>
</body>
</html>
